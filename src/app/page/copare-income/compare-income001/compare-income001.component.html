<app-breadcrumb [breadcrumb]="breadcrumb"></app-breadcrumb>
<div class="row">
    <div class="col-9">
        <div class="card" style="height: 17rem;">
            <div class="card-header">
                เปรียบเทียบรายได้ภาษีสรรพสามิต
            </div>
            <div class="card-body">

                <div class="row mt-1">
                    <div class="col-6">
                        <div class="form-group row text-right">
                            <label for="inputPassword" class="col-sm-4 col-form-label">วันที่เริ่มต้น</label>
                            <div class="col-sm-6">
                                <input-calendar (changeDate)="dateChange1($event)" [default]="true" #calendarStart>
                                </input-calendar>
                            </div>
                        </div>

                    </div>
                    <div class="col-6">
                        <div class="form-group row text-right">
                            <label for="inputPassword" class="col-sm-4 col-form-label">วันที่สิ้นสุด</label>
                            <div class="col-sm-6">
                                <input-calendar (changeDate)="dateChange2($event)" [default]="true" #calendarStart>
                                </input-calendar>
                            </div>
                        </div>

                    </div>


                </div>
                <div class="row">


                    <div class="col-6">
                        <div class="form-group row text-right">
                            <label for="inputPassword" class="col-sm-4 col-form-label">
                                ชื่อหน่วยเบิกจ่าย </label>
                            <div class="col-sm-6">
                                <select class="form-control form-control-sm" (change)="onSelectBankmain($event)" id="selectBankmain">
                                    <option value="" selected disabled>กรุณาเลือกหน่วยเบิกจ่าย </option>

                                    <option *ngFor="let item of getDataLov"
                                    [value]="item.lovKey">
                                    <!-- <ng-container *ngFor="let item of newArray(item.treelevel*2)">-</ng-container> -->
                                    {{item.lovCode}} : {{item.valueTh1}}
                                </option>

                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group row text-right">
                            <label for="inputPassword" class="col-sm-4 col-form-label">
                                ศูนย์ต้นทุน </label>
                            <div class="col-sm-6">
                                <select class="form-control form-control-sm" (change)="onSelectBankmain($event)" id="selectBankmain">
                                    <option value="" selected disabled>กรุณาเลือกศูนย์ต้นทุน</option>
                                   
                                    <option *ngFor="let item of agencyList" [style]="'background-color:'+getColor(item.treelevel)"
                                    [value]="item.masterDepartmentsCode">
                                    <ng-container *ngFor="let item of newArray(item.treelevel*2)">-</ng-container>
                                    {{item.masterDepartmentsCode}} : {{item.name}}
                                </option>

                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">


                    <div class="col-6">
                        <div class="form-group row text-right">
                            <label for="inputPassword" class="col-sm-4 col-form-label"> รายการบัญชี </label>
                            <div class="col-sm-6">
                                <select class="form-control form-control-sm" (change)="onSelectBankmain($event)" id="selectBankmain">
                                    <option value="getAll" >ทั้งหมด</option>
                                    
                                    <option *ngFor="let item of constant" [value]="item.code_2"> 
                                            {{item.code_2}} : {{item.detail}}
                                    </option>      
                                
                                </select>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <!-- row -->
                <div class="row">
                    <div class="col-12 text-center">
                        <button type="button" class="btn btn-success btn-sm" (click)="onClickCheck()">
                            <i class="fa fa-search" aria-hidden="true"></i> ตรวจสอบ
                        </button>
                    </div>
                </div>
                <!-- end row -->
            </div>
        </div>
    </div>
    <div class="col">
        <div class="row-2">
            <div class="card" style="height: 12rem;">

                <div class="card-body text-center">
                    <div class="container h-100">
                        <div class="row align-items-center h-100">
                            <div class=" mx-auto">
                                <div class="row justify-content-center">
                                    <div class="col-3 mt-2">
                                        <i class="fa fa-check-square-o fa-2x mr-5" aria-hidden="true" style="margin-left: 20px; color: rgb(131, 207, 131);"></i>
                                    </div>
                                    <div class="col">
                                        <div class="row"> <span class="caret mr-4"><b>อัพเดตข้อมูลจากระบบงานรายได้ล่าสุด</b></span>
                                        </div>
                                        <div class="row"> <span class="caret mr-4">วันที่ 2 เดือน มิถุนายน ปี 2563 เวลา
                                                12:01 </span></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-2 " style="margin-top: 12px;">
            <a href=" #test" class="head-card">
                <div class=" card shadow" routerLink="/compare/compareincomedetail001" style="background-color:#daf1f9;">
                    <div class="card-body text-center">
                        <span class="caret">รายละเอียดผลต่างแบ่งตามประเภทรายได้</span>
                    </div>
                </div>
            </a>
        </div>
    </div>

</div>
&nbsp;
<div class="card">
    <div class="card-body">
        <table class="table table-striped table-sm table-bordered ">
            <thead>
                <tr>
                    <th class="text-center">รหัสบัญชี</th>
                    <th class="text-center">รายการบัญชี</th>
                    <th class="text-center">รายได้</th>
                    <th class="text-center">ยอดคงเหลือใน<br> GFMIS</th>
                    <th class="text-center">ยอดคงเหลือใน<br> ระบบงานรายได้</th>
                    <th class="text-center">ผลต่าง</th>
                    <th class="text-center" width="20%">จัดการ</th>
                </tr>
            </thead>
            <ng-container *ngFor="let item of constant">
                <tbody *ngIf="item.code_2 == this.getlist || getlist == 'getAll' || sendCode == null ">
                    <tr *ngIf="item.diff" style="color: red;">
                        <td class="text-center">{{item.code_1}}</td>
                        <td>{{item.detail}}</td>
                        <td class="text-center">{{item.code_2}}</td>
                        <td class="text-right">{{item.gf}}</td>
                        <td class="text-right">{{item.ex}}</td>
                        <td class="text-right">{{item.diff}}</td>
                        <td class="text-center">
                            <div>
                                <button type="button" class="btn btn-info btn-sm" (click)="goTo(item)">
                                    <i class="fa fa-search" aria-hidden="true"></i> รายละเอียดผลต่าง
                                </button>
                            </div>
                    </tr>
                    <tr *ngIf="!item.diff">
                        <td class="text-center">{{item.code_1}}</td>
                        <td>{{item.detail}}</td>
                        <td class="text-center">{{item.code_2}}</td>
                        <td class="text-right">{{item.gf}}</td>
                        <td class="text-right">{{item.ex}}</td>
                        <td class="text-right">{{item.diff}}</td>
                        <td class="text-center">
                            <div>
                                <button type="button" class="btn btn-info btn-sm" (click)="goTo(item)">
                                    <i class="fa fa-search" aria-hidden="true"></i> รายละเอียดผลต่าง
                                </button>
                            </div>
                    </tr>
                </tbody>
            </ng-container>
        </table>
    </div>
</div>